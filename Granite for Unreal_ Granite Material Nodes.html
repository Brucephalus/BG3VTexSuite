<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><base href="https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/granite_nodes.html"><style>body{margin-left:0;margin-right:0;margin-top:0}#bN015htcoyT__google-cache-hdr{background:#f8f9fa;font:13px arial,sans-serif;text-align:left;color:#202124;border:0;margin:0;border-bottom:1px solid #dadce0;line-height:16px;padding:16px 28px 24px 28px}#bN015htcoyT__google-cache-hdr *{display:inline;font:inherit;text-align:inherit;color:inherit;line-height:inherit;background:none;border:0;margin:0;padding:0;letter-spacing:0}#bN015htcoyT__google-cache-hdr a{text-decoration:none;color:#1a0dab;}#bN015htcoyT__google-cache-hdr a:hover{text-decoration:underline}#bN015htcoyT__google-cache-hdr a:visited{color:#681da8}#bN015htcoyT__google-cache-hdr div{display:block;margin-top:4px}#bN015htcoyT__google-cache-hdr b{font-weight:bold;display:inline-block;direction:ltr}</style><div id="bN015htcoyT__google-cache-hdr"><div><span>This is Google's cache of <a href="https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/granite_nodes.html">https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/granite_nodes.html</a>.</span>&nbsp;<span>It is a snapshot of the page as it appeared on Jan 3, 2023 15:00:07 GMT.</span>&nbsp;<span>The <a href="https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/granite_nodes.html">current page</a> could have changed in the meantime.</span>&nbsp;<a href="http://support.google.com/websearch/bin/answer.py?hl=en&amp;p=cached&amp;answer=1687222"><span>Learn more</span>.</a></div><div><span style="display:inline-block;margin-top:8px;margin-right:104px;white-space:nowrap"><span style="margin-right:28px"><span style="font-weight:bold">Full version</span></span><span style="margin-right:28px"><a href="http://webcache.googleusercontent.com/search?q=cache:https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/granite_nodes.html&amp;strip=1&amp;vwsrc=0"><span>Text-only version</span></a></span><span style="margin-right:28px"><a href="http://webcache.googleusercontent.com/search?q=cache:https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/granite_nodes.html&amp;strip=0&amp;vwsrc=1"><span>View source</span></a></span></span></div><span style="display:inline-block;margin-top:8px;color:#70757a"><span>Tip: To quickly find your search term on this page, press <b>Ctrl+F</b> or <b>âŒ˜-F</b> (Mac) and use the find bar.</span></span></div><div style="position:relative;"><!-- HTML header for doxygen 1.8.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<link href='https://fonts.googleapis.com/css?family=Roboto:100,200,300,400,700' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
<title>Granite for Unreal: Granite Material Nodes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="graphine.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="graphine.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%">
 <tbody>
 <tr style="height: 56px;">
  <td>
   <div id="projectname">Granite for Unreal
   &#160;<span id="projectnumber">v4.18</span>
   </div>
  </td>
  <td>
	<a href="https://support.graphinesoftware.com"> <img src="comments.png"> Get Support</a><br/>
	<a href="/authentication"> <img src="user.png"> Account</a>	
  </td>
<td style="width:300px" ><script>
  (function() {
    var cx = '011508249882445291888:h2p-b6fnveq';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<div style="width:300px" >
<gcse:search defaultToRefinement="unreal" ></gcse:search></div></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('granite_nodes.html','');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Granite Material Nodes </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#granite_nodes_tex">Granite Texture Node  </a><ul><li class="level2"><a href="#granite_nodes_tex_opt">Node Options  </a></li>
<li class="level2"><a href="#granite_nodes_limitations">Limitations  </a><ul><li class="level3"><a href="#granite_nodes_limitations_numsamples">Number of Samples</a></li>
<li class="level3"><a href="#granite_nodes_limitations_outsideps">In Non-Pixel Shader Stages</a></li>
<li class="level3"><a href="#granite_nodes_unsupported_features">Unsupported Material Features</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#granite_nodes_param">Granite Texture Parameter Node </a></li>
<li class="level1"><a href="#granite_nodes_object">Granite Texture Object and Granite Texture Object Parameter Nodes </a></li>
</ul>
</div>
<div class="textblock"><p>Granite for Unreal adds a number of new nodes to the set of nodes available in the Unreal shader editor. Their use is described below.</p>
<h1><a class="anchor" id="granite_nodes_tex"></a>
Granite Texture Node  </h1>
<p>This node allows you to sample a <a class="el" href="granite_texture.html">GraniteTexture Object</a> in your material Graph. Once you assign a GraniteTexture to the node the outputs will be updated so there is one output for every layer in the GraniteTexture.</p>
<div class="image">
<img src="granite_node.png" alt="granite_node.png"/>
<div class="caption">
A Granite texture node together with it's property window.</div></div>
 <h2><a class="anchor" id="granite_nodes_tex_opt"></a>
Node Options  </h2>
<p>The Granite Texture Node has the following Granite specific options.</p><ul>
<li><b>Texture</b>: The <a class="el" href="granite_texture.html">Granite Texture</a> object to sample in this node.</li>
<li><b>Mip Value Mode</b>: Selects how to customize the sample's mip-level or derivatives from the default computed values. Affects the look and performance.<ul>
<li>None (default): Do nothing special, let the GPU/Granite decide what mipmap to use.</li>
<li>MipLevel: Explicitly specify which level to use. Granite will sample the exact level specified here.</li>
<li>MipBias: Specify a value relative to the level Granite would natively select. See <a class="el" href="level_of_detail.html">Level of Detail</a> for more info.</li>
<li>Derivative: (Advanced use) Specify the derivative values Granite should use when it calculates the miplevel.</li>
</ul>
</li>
<li><b>Anistropy Ratio</b>: Selects the maximum degree of anistropy allowed. Higher settings will have higher quality filtering at the cost of significantly increased loads on the streaming system.</li>
<li><b>Sample Quality</b>: Selects the quality of the sampling. Currently two options are available:<ul>
<li><em>Medium Quality</em>: Fastest way of sampling, but can show artifacts at tile borders and/or at mip transitions.</li>
<li><em>High Quality</em>: Gives the highest visual quality.</li>
</ul>
</li>
<li><b>Preview Layer</b>: The layer of the texture to show in the thumbnail preview. This is only used for the material editor previews and does not affect the actual material.</li>
</ul>
<h2><a class="anchor" id="granite_nodes_limitations"></a>
Limitations  </h2>
<h3><a class="anchor" id="granite_nodes_limitations_numsamples"></a>
Number of Samples</h3>
<p>Granite currently limits you to a maximum of 4 translation table lookups per shader, in practice this is roughly equivalent to four Granite texture nodes. This limit can currently only be raised by recompiling Granite for Unreal from source. However, the default value is a good balance between shader performance and flexibility of use.</p>
<h3><a class="anchor" id="granite_nodes_limitations_outsideps"></a>
In Non-Pixel Shader Stages</h3>
<p>Granite can be used in all shader types, vertex, tesselation, hull and pixel shader. In Unreal non-pixelshader code is generated when you connect parts of the Graph to the following nodes:</p><ul>
<li>World Position Offset: Vertex Shader</li>
<li>World Displacement: Domain Shader</li>
<li>Tesselation Multiplier: Hull Shader Per shader type Granite allows up to four samples.</li>
</ul>
<p>When running Granite code outside the pixel shader granite will not request any data to be streamed in. This means Granite will use data that has already been streamed but data which was never accessed in the pixel shader will not be available in the other shader stages. In practice this means the following:</p>
<ul>
<li>If you sample in the vertex/hull/domain shader as part of a multi-layered tileset which is also used in the pixel shader you do not have to be aware of this limitation. Granite will stream data as expected.</li>
</ul>
<div class="image">
<img src="node_displacement_good.png" alt="node_displacement_good.png"/>
<div class="caption">
The displacement is accessed together with the diffuse and normal, displacement data will be requested for streaming.</div></div>
<ul>
<li>If you sample in the vertex/hull/domain shader as a totally independent tileset you will have to make sure the correct data is streamed in. This can currently only be achieved by adding a dummy node in the pixel shader that accesses it. In the future we may add a blueprint based system that allows you to inform Granite about referenced data.</li>
</ul>
<div class="image">
<img src="node_displacement_bad.png" alt="node_displacement_bad.png"/>
<div class="caption">
The displacement is accessed separately from the diffuse and normal, displacement data will NOT be requested to stream in.</div></div>
 <dl class="section note"><dt>Note</dt><dd>Just as with built-in Unreal shadows and visibility culling, Granite sometimes uses undisplaced vertices for some of it's calculations. This means incorrect data may be streamed in if you use very large displacements. E.g. if the undisplaced version of the mesh is not visible on screen but the displaced version is, data for that mesh may not be streamed in.</dd></dl>
<h3><a class="anchor" id="granite_nodes_unsupported_features"></a>
Unsupported Material Features</h3>
<p>Granite does currently not support the following features of Unreal materials. In future versions some of these may become supported.</p><ul>
<li>Deferred Decals Material Domain: No new data is streamed.</li>
<li>Light Function Material Domain: No new data is streamed.</li>
<li>PostProcess Material Domain: No new data is streamed.</li>
<li>Landscape Materials &amp; Layers: Some configurations do not work and give "default material" rendering.</li>
</ul>
<h1><a class="anchor" id="granite_nodes_param"></a>
Granite Texture Parameter Node </h1>
<div class="image">
<img src="granite_parameter_node.png" alt="granite_parameter_node.png"/>
<div class="caption">
A Granite texture parameter node together with it's property window.</div></div>
<p> The Granite Texture Parameter node has a similar relationship to the Granite Texture node as the Unreal "Texture Object Parameter" node has to the Unreal "Texture Sample" node. This means it's "Texture" property is exposed through Unreal's material parameter system, otherwise both nodes are largely equivalent. Using the parameter node allows you to override this value in material instances allowing you to share a single material graph with many different Granite textures.</p>
<h1><a class="anchor" id="granite_nodes_object"></a>
Granite Texture Object and Granite Texture Object Parameter Nodes </h1>
<p>These nodes do not sample the Granite texture but only define a reference to a Granite texture. The texture can then be passed to the "Tex" input connector of a Granite Texture or Granite Texture Parameter node. It can also be passed to functions taking Granite Texture Objects as parameters. Granite Texture Objects work similarly to standard Unreal texture objects. Please see <a href="https://docs.unrealengine.com/latest/INT/Engine/Rendering/Materials/ExpressionReference/Textures/index.html#textureobject">this documentation</a> for info on the standard Unreal texture object. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
		Confidential - Copyright 2012-2018 Graphine NV - Part of this Software is covered by pending patents. - <a href="software_licenses.html">Third Party Software Licenses</a></li>
  </ul>
</div>
</body>
</html>
