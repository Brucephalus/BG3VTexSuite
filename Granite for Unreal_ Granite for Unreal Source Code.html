<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><base href="https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/source_code.html"><style>body{margin-left:0;margin-right:0;margin-top:0}#bN015htcoyT__google-cache-hdr{background:#f8f9fa;font:13px arial,sans-serif;text-align:left;color:#202124;border:0;margin:0;border-bottom:1px solid #dadce0;line-height:16px;padding:16px 28px 24px 28px}#bN015htcoyT__google-cache-hdr *{display:inline;font:inherit;text-align:inherit;color:inherit;line-height:inherit;background:none;border:0;margin:0;padding:0;letter-spacing:0}#bN015htcoyT__google-cache-hdr a{text-decoration:none;color:#1a0dab;}#bN015htcoyT__google-cache-hdr a:hover{text-decoration:underline}#bN015htcoyT__google-cache-hdr a:visited{color:#681da8}#bN015htcoyT__google-cache-hdr div{display:block;margin-top:4px}#bN015htcoyT__google-cache-hdr b{font-weight:bold;display:inline-block;direction:ltr}</style><div id="bN015htcoyT__google-cache-hdr"><div><span>This is Google's cache of <a href="https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/source_code.html">https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/source_code.html</a>.</span>&nbsp;<span>It is a snapshot of the page as it appeared on Dec 6, 2022 21:45:49 GMT.</span>&nbsp;<span>The <a href="https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/source_code.html">current page</a> could have changed in the meantime.</span>&nbsp;<a href="http://support.google.com/websearch/bin/answer.py?hl=en&amp;p=cached&amp;answer=1687222"><span>Learn more</span>.</a></div><div><span style="display:inline-block;margin-top:8px;margin-right:104px;white-space:nowrap"><span style="margin-right:28px"><span style="font-weight:bold">Full version</span></span><span style="margin-right:28px"><a href="http://webcache.googleusercontent.com/search?q=cache:https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/source_code.html&amp;strip=1&amp;vwsrc=0"><span>Text-only version</span></a></span><span style="margin-right:28px"><a href="http://webcache.googleusercontent.com/search?q=cache:https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/source_code.html&amp;strip=0&amp;vwsrc=1"><span>View source</span></a></span></span></div><span style="display:inline-block;margin-top:8px;color:#70757a"><span>Tip: To quickly find your search term on this page, press <b>Ctrl+F</b> or <b>⌘-F</b> (Mac) and use the find bar.</span></span></div><div style="position:relative;"><!-- HTML header for doxygen 1.8.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<link href='https://fonts.googleapis.com/css?family=Roboto:100,200,300,400,700' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
<title>Granite for Unreal: Granite for Unreal Source Code</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="graphine.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="graphine.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%">
 <tbody>
 <tr style="height: 56px;">
  <td>
   <div id="projectname">Granite for Unreal
   &#160;<span id="projectnumber">v4.18</span>
   </div>
  </td>
  <td>
	<a href="https://support.graphinesoftware.com"> <img src="comments.png"> Get Support</a><br/>
	<a href="/authentication"> <img src="user.png"> Account</a>	
  </td>
<td style="width:300px" ><script>
  (function() {
    var cx = '011508249882445291888:h2p-b6fnveq';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<div style="width:300px" >
<gcse:search defaultToRefinement="unreal" ></gcse:search></div></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('source_code.html','');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Granite for Unreal Source Code </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page is only relevant if you are using the source code version of Granite for Unreal 4. If you recieved a pre-built binary from Graphine, you do not have access to the source code.</p>
<h2>Merging Files </h2>
<p>Granite for Unreal contains some modified UE4 files. These files are existing UE4 source files that we had to modify in order to use the GraniteSDK inside Unreal 4. Graphine tries to minimize changes to existing files as much as possible but this is currently unavoidable as not all necessary functionality is exposed through the Unreal plugin system.</p>
<p>In case you are working on a clean version from Epic which is exactly the same as the version we used to build our integration on you can just start using the version of the source code checked out from our Git repository as a replacement for the standard Epic code.</p>
<p>In case you have a slightly different version of the engine (say 4.7.5 instead of 4.7.2 Granite was integrated against) or if you have your own engine changes, you will have to manually merge the modified files into your version of the engine. All changes inside the files are always clearly placed between ‘<em>GraniteSDK Begin</em>’ and ‘<em>GraniteSDK End</em>’ comment blocks. Do note that there could be multiple blocks inside a single file.</p>
<div class="image">
<img src="unr_image005.jpg" alt="unr_image005.jpg"/>
<div class="caption">
Sample of a modified file. Note the comments indicating the beginning and end of the modification.</div></div>
<p> Listing all changes would be out of scope of this document but below you can find a high level overview of the important changes:</p>
<p>-The material pipeline is made aware of a <em>GraniteTexture</em>. Virtual functions were added to the <em>UMaterialInterface</em> and <em>FMaterialRenderProxy</em> classes. This causes changes in various derived classes in order to implement those functions. Do note that if you have custom Material or MaterialRenderProxy classes, you will might have to provide an implementation of those functions.</p>
<p>-The underlying shader system now also has a notion of the GraniteSDK. Additional shader code and uniform expressions are now generated. One important note here is that the order the code is generated must match the ‘s’ tokens inside MaterialTemplate.usf. In case you have added custom code chuncks in MaterialTemplate.usf, be carefull the order they are filled in remain correct (see MaterialTemplate.usf and FHLSLMaterialTranslator:: GetMaterialShaderCode).</p>
<p>-We added functions to the RHI public methods. In case you have custom RHI back-ends, you might have to implement these functions with dummy code. Note that we provide a fully working implementation of the D3D11Drv, a null implementation for the NullDrv and a dummy implementations of the OpenGLDrv.</p>
<h2>Building </h2>
<p>Before initializing a build, make sure you have updated the project files by executing the <em>GenerateProjectFiles.bat </em>file.</p>
<p>In case you wish to use the UnrealFrontend tool, copy the newly built <em>AutomationScripts</em> dll (located in <em>Engine/Intermediate/ProjectFiles/bin/Release)</em> to the <em>AutomationScripts</em> folder inside the <em>DotNET </em>binary folder (<em>Engine/Binaries/DotNET/AutomationScripts</em>) and overwrite the existing file. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
		Confidential - Copyright 2012-2018 Graphine NV - Part of this Software is covered by pending patents. - <a href="software_licenses.html">Third Party Software Licenses</a></li>
  </ul>
</div>
</body>
</html>
