<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><base href="https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/lightmaps.html"><style>body{margin-left:0;margin-right:0;margin-top:0}#bN015htcoyT__google-cache-hdr{background:#f8f9fa;font:13px arial,sans-serif;text-align:left;color:#202124;border:0;margin:0;border-bottom:1px solid #dadce0;line-height:16px;padding:16px 28px 24px 28px}#bN015htcoyT__google-cache-hdr *{display:inline;font:inherit;text-align:inherit;color:inherit;line-height:inherit;background:none;border:0;margin:0;padding:0;letter-spacing:0}#bN015htcoyT__google-cache-hdr a{text-decoration:none;color:#1a0dab;}#bN015htcoyT__google-cache-hdr a:hover{text-decoration:underline}#bN015htcoyT__google-cache-hdr a:visited{color:#681da8}#bN015htcoyT__google-cache-hdr div{display:block;margin-top:4px}#bN015htcoyT__google-cache-hdr b{font-weight:bold;display:inline-block;direction:ltr}</style><div id="bN015htcoyT__google-cache-hdr"><div><span>This is Google's cache of <a href="https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/lightmaps.html">https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/lightmaps.html</a>.</span>&nbsp;<span>It is a snapshot of the page as it appeared on Dec 21, 2022 12:15:16 GMT.</span>&nbsp;<span>The <a href="https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/lightmaps.html">current page</a> could have changed in the meantime.</span>&nbsp;<a href="http://support.google.com/websearch/bin/answer.py?hl=en&amp;p=cached&amp;answer=1687222"><span>Learn more</span>.</a></div><div><span style="display:inline-block;margin-top:8px;margin-right:104px;white-space:nowrap"><span style="margin-right:28px"><span style="font-weight:bold">Full version</span></span><span style="margin-right:28px"><a href="http://webcache.googleusercontent.com/search?q=cache:https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/lightmaps.html&amp;strip=1&amp;vwsrc=0"><span>Text-only version</span></a></span><span style="margin-right:28px"><a href="http://webcache.googleusercontent.com/search?q=cache:https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/lightmaps.html&amp;strip=0&amp;vwsrc=1"><span>View source</span></a></span></span></div><span style="display:inline-block;margin-top:8px;color:#70757a"><span>Tip: To quickly find your search term on this page, press <b>Ctrl+F</b> or <b>âŒ˜-F</b> (Mac) and use the find bar.</span></span></div><div style="position:relative;"><!-- HTML header for doxygen 1.8.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<link href='https://fonts.googleapis.com/css?family=Roboto:100,200,300,400,700' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
<title>Granite for Unreal: Lightmap Support</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="graphine.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="graphine.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%">
 <tbody>
 <tr style="height: 56px;">
  <td>
   <div id="projectname">Granite for Unreal
   &#160;<span id="projectnumber">v4.18</span>
   </div>
  </td>
  <td>
	<a href="https://support.graphinesoftware.com"> <img src="comments.png"> Get Support</a><br/>
	<a href="/authentication"> <img src="user.png"> Account</a>	
  </td>
<td style="width:300px" ><script>
  (function() {
    var cx = '011508249882445291888:h2p-b6fnveq';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<div style="width:300px" >
<gcse:search defaultToRefinement="unreal" ></gcse:search></div></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('lightmaps.html','');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Lightmap Support </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#lightmaps_enable">Setting Up Streamed Lightmaps </a></li>
<li class="level1"><a href="#lightmaps_tweal">Getting the Most out of Your Light Maps </a></li>
<li class="level1"><a href="#lightmaps_content">Supported Content </a></li>
<li class="level1"><a href="#lightmaps_quality">Lightmap Quality </a></li>
</ul>
</div>
<div class="textblock"><p>Granite has full support for streaming Unreal lightmaps. This page goes into more detail on how to activate and configure lightmap support.</p>
<div class="image">
<img src="screenshot_lightmaps.png" alt="screenshot_lightmaps.png"/>
</div>
<h1><a class="anchor" id="lightmaps_enable"></a>
Setting Up Streamed Lightmaps </h1>
<p>The first step in setting up lightmap streaming is enabling it in the Granite section of your Unreal project settings. After lightmap streaming is enabled for the project, you will then need to rebuild the lighting for your levels to ensure lightmaps are saved in Granite tile sets. Once these initial steps have been done, you can use lightmaps the same way you always have done in Unreal.</p>
<div class="image">
<img src="settings_lighting.png" alt="settings_lighting.png"/>
<div class="caption">
The lighting settings section of the Granite project settings.</div></div>
 <dl class="section note"><dt>Note</dt><dd>When toggling lightmap support for your project you will need to restart in order for the settings to take eccect. The first time you toggle lightmaps shaders will also need to be re-compiled so this may take a while.</dd></dl>
<h1><a class="anchor" id="lightmaps_tweal"></a>
Getting the Most out of Your Light Maps </h1>
<p>There are no additional settings required for Granite lightmaps. However, by using Granite, it is usually possible to increase the lightmap resolution 2~4X without running into resource limitations. How the lightmap resolution is increased dependens on the object type. The most common situation for static meshes to simply increase the lightmap resolution in the object details panel.</p>
<div class="image">
<img src="staticmesh_lightmaps.png" alt="staticmesh_lightmaps.png"/>
<div class="caption">
Static mesh lightmap resolution property.</div></div>
<h1><a class="anchor" id="lightmaps_content"></a>
Supported Content </h1>
<p>Currently Granite will stream the following textures generated by lightmass:</p><ul>
<li><b>Lighting</b>: Both LQ and HQ lighting can be streamed.</li>
<li><b>SkyOcclusion</b>: When a <em>SkyLight</em> is present in the scene, sky occlusion data is included (optional).</li>
<li><b>AOMaterialMask</b>: When enabled in the <em>lightmass</em> settings, precomputed AO is included (optional).</li>
<li><b>ShadowMap</b>: Static shadow maps are streamed.</li>
</ul>
<h1><a class="anchor" id="lightmaps_quality"></a>
Lightmap Quality </h1>
<p>Granite streamed lightmaps can have different compression and performance settings. Inside the world settings you can set the quality of the lightmaps when streamed using Granite. Inside the <em>Lightmass Settings</em> section, you can find a new setting called <em>Granite Light Map Compresison</em>. These settings are only active if the standard Unreal <em>Compress Lightmaps</em> setting is enabled (default in unreal). Disabling the <em>Compress Lightmaps</em> setting will always cause data to be stored lossless on disk and streamed uncompressed (typically 32bit per pixel) to the GPU.</p>
<div class="image">
<img src="lightmapSettings.png" alt="lightmapSettings.png"/>
</div>
<p>The following options are available:</p><ul>
<li><b>Low Compression</b>: Low visual quality but small on-disk size. Uses compressed GPU caches.</li>
<li><b>Medium Compression</b>: Medium visual quality, but a larger on-disk size. Uses compressed GPU caches and improved transcoding quality. This also means this mode uses more CPU power.</li>
<li><b>High Compression</b>: High visual quality, but an even larger on-disk size. Uses compressed GPU caches and very high transcoding quality. This also means this mode uses even more CPU power.</li>
<li><b>Unreal Equivalent</b>: Use exactly the same compression as non-Granite streamed lightmaps at the cost of larger on-disk size. Obviously the data will still be streamed through Granite.</li>
</ul>
<p>We recommend to start with <b>Unreal Equivalent</b> as it will cause the least surprises. You'll simply get the quality you're used to. If you want to reduce the size of your shipped game you might want to look into trying out one of the (low/medium/high) settings depending on your disc/performance budget and quality requirements.</p>
<p>Finally, note that ShadowMaps are always stored lossless and are streamed uncompressed to the GPU. This corresponds with the way Unreal handles shadowmap compression.</p>
<h1>Lightmap Technical Details </h1>
<p>When you build lightmaps Granite for Unreal automatically generates .gts files and GraniteTileSet and GraniteTexture assets for the lightmaps in the scene. These are stored in the "Content\GraniteSDK\LightMaps" folder. This folder is organized as follows (Note this folder structure may change you should not rely on this exact structure).</p>
<ul>
<li>/Assets/ : This contains the unreal assets for the lightmaps. I.e. GraniteTileSet and GraniteTexture objects.</li>
<li>/LQ/ : These contain the low quality lightmap .gts files. (Which quality is used depends on your Unreal project settings.)</li>
<li>/HQ/ : These contain the hight quality lightmap .gts files.</li>
<li>/ShadowMaps/ : These contain the shadow map .gts files.</li>
</ul>
<p>The folders with .gts files will contain a .gts file (and accompanying .gtp files) for each map you built lightmaps for. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
		Confidential - Copyright 2012-2018 Graphine NV - Part of this Software is covered by pending patents. - <a href="software_licenses.html">Third Party Software Licenses</a></li>
  </ul>
</div>
</body>
</html>
