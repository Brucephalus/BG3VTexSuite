<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><base href="https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/udim.html"><style>body{margin-left:0;margin-right:0;margin-top:0}#bN015htcoyT__google-cache-hdr{background:#f8f9fa;font:13px arial,sans-serif;text-align:left;color:#202124;border:0;margin:0;border-bottom:1px solid #dadce0;line-height:16px;padding:16px 28px 24px 28px}#bN015htcoyT__google-cache-hdr *{display:inline;font:inherit;text-align:inherit;color:inherit;line-height:inherit;background:none;border:0;margin:0;padding:0;letter-spacing:0}#bN015htcoyT__google-cache-hdr a{text-decoration:none;color:#1a0dab;}#bN015htcoyT__google-cache-hdr a:hover{text-decoration:underline}#bN015htcoyT__google-cache-hdr a:visited{color:#681da8}#bN015htcoyT__google-cache-hdr div{display:block;margin-top:4px}#bN015htcoyT__google-cache-hdr b{font-weight:bold;display:inline-block;direction:ltr}</style><div id="bN015htcoyT__google-cache-hdr"><div><span>This is Google's cache of <a href="https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/udim.html">https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/udim.html</a>.</span>&nbsp;<span>It is a snapshot of the page as it appeared on Dec 28, 2022 22:20:34 GMT.</span>&nbsp;<span>The <a href="https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/udim.html">current page</a> could have changed in the meantime.</span>&nbsp;<a href="http://support.google.com/websearch/bin/answer.py?hl=en&amp;p=cached&amp;answer=1687222"><span>Learn more</span>.</a></div><div><span style="display:inline-block;margin-top:8px;margin-right:104px;white-space:nowrap"><span style="margin-right:28px"><span style="font-weight:bold">Full version</span></span><span style="margin-right:28px"><a href="http://webcache.googleusercontent.com/search?q=cache:https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/udim.html&amp;strip=1&amp;vwsrc=0"><span>Text-only version</span></a></span><span style="margin-right:28px"><a href="http://webcache.googleusercontent.com/search?q=cache:https://documentation.graphinesoftware.com/doc/GraniteUnreal/latest/udim.html&amp;strip=0&amp;vwsrc=1"><span>View source</span></a></span></span></div><span style="display:inline-block;margin-top:8px;color:#70757a"><span>Tip: To quickly find your search term on this page, press <b>Ctrl+F</b> or <b>âŒ˜-F</b> (Mac) and use the find bar.</span></span></div><div style="position:relative;"><!-- HTML header for doxygen 1.8.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<link href='https://fonts.googleapis.com/css?family=Roboto:100,200,300,400,700' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
<title>Granite for Unreal: UDIM Data Support</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="graphine.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="graphine.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%">
 <tbody>
 <tr style="height: 56px;">
  <td>
   <div id="projectname">Granite for Unreal
   &#160;<span id="projectnumber">v4.18</span>
   </div>
  </td>
  <td>
	<a href="https://support.graphinesoftware.com"> <img src="comments.png"> Get Support</a><br/>
	<a href="/authentication"> <img src="user.png"> Account</a>	
  </td>
<td style="width:300px" ><script>
  (function() {
    var cx = '011508249882445291888:h2p-b6fnveq';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<div style="width:300px" >
<gcse:search defaultToRefinement="unreal" ></gcse:search></div></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('udim.html','');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">UDIM Data Support </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#udim_intro">Introduction </a></li>
<li class="level1"><a href="#udim_preparing_data">Preparing UDIM data </a></li>
<li class="level1"><a href="#udim_layers_channels">Layers and Channels </a></li>
<li class="level1"><a href="#udim_importing_data">Importing UDIM Data </a></li>
<li class="level1"><a href="#udim_importing_data_ue4">Importing and Using the UDIM Data in UE4 </a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="udim_intro"></a>
Introduction </h1>
<p>Granite allows you to use very large textures in your scenes. A single texture in Granite can be up to 256.000 x 256.000 pixels in size. By importing your existing UDIM files to a single Granite virtual texture you can easily visualize and use these UDIM's in real-time rendering.</p>
<div class="image">
<img src="image001.png" alt="image001.png"/>
<div class="caption">
The UDIM to Granite Import process</div></div>
 <h1><a class="anchor" id="udim_preparing_data"></a>
Preparing UDIM data </h1>
<p>UDIM is not a rigorously defined standard. Therefore, we now briefly describe how Granite interprets this standard so you can make sure you export your data in the appropriate way for use with Granite. Generally we interpret UDIM the same way as MARI does. So using MARI should make it easy to export your textures.</p>
<p>Granite assumes the first UDIM tile to be numbered 1001 it expects this tile to cover the [0, 1] x [0, 1] texture coordinate space. The next tile is then to the right, numbered 1002 and covers the [1, 2] x [0, 1] UV coordinate space. Granite assumes there are 10 tiles on a row. So the first tile of the second row is then 1011 and covers the [0, 1] x [1, 2] texture space.</p>
<div class="image">
<img src="image002.png" alt="image002.png"/>
<div class="caption">
Granite UDIM tile lay-out</div></div>
<p> In addition this layout, to generate a single large texture from UDIMs, Granite has some requirements for the UDIM patches. If these are not met, UDIM data will not be imported correctly.</p>
<ul>
<li>
Granite only supports <b>a maximum of 320</b> patches for now (so a 10x32 grid) with the grid starting at position 1001. As a result, any tiles beyond 1321 are not picked up by the tools.  </li>
</ul>
<p>The latest Granite release relaxes a lot of previous requirements to the UDIM layout. <br />
</p><ul>
<li>
<b>Granite supports UDIM patches with varying sizes.</b> Behind the scenes these patches are resized to a constant size. Some tools allow different sized patches and also export small "dummy" textures for empty UDIMs data (like an 8 x 8 pixel uniform color texture). Behind the scenes, the Granite tools will automatically rescale these UDIM tiles to sizes that are uniform across the Granite UDIM texture. Note that internally, the Granite tools do not really upscale these texture but just handle them in a different fashion. <br />
 <div class="image">
<img src="image003.png" alt="image003.png"/>
<div class="caption">
All UDIM patches are rescaled behind the scenes to the same size.</div></div>
 </li>
<li>
<p class="startli"><b>Granite supports 'holes' in the UDIM data (i.e. missing tiles)</b>, even holes that are not aligned over layers, i.e., different holes for each layer (see below for an explanation of layers, in MARI they are referred to as channels). These holes are filled automatically with so-called zero regions, empty regions that can be coded in a very efficient way. There is no need to export dummy files on your own. For example, the following UDIM file set will import perfectly. </p><div class="image">
<img src="image005.png" alt="image005.png"/>
<div class="caption">
This set will import perfectly.</div></div>
<p class="endli"></p>
</li>
<li>
<p class="startli"><b>Granite supports sparse UDIM layouts</b>. Granite will clamp the UDIM tile space to the range of tile 1001 and the tiles it has found. There is no need to export dummy tiles to fill the full UDIM range. Note that extreme sparsity will still result in a storage overhead. For example, importing UDIM tiles 1001 and 1320 will result in an imported UDIM texture holding the full UDIM space with many empty UDIM tiles. In extreme cases, it is better to change the layout of the tiles before importing.</p>
<div class="image">
<img src="image012.png" alt="image012.png"/>
<div class="caption">
This set will import, but it will be extended to the range [1001,1028].</div></div>
 <p class="endli"></p>
</li>
</ul>
<h1><a class="anchor" id="udim_layers_channels"></a>
Layers and Channels </h1>
<p>Granite supports a concept named "layers". Conceptually Granite layers are similar to what MARI refers to as "channels". Using layers allows you to bundle together different textures belonging to the same mesh texture coordinates in a single Granite stacked texture. So for example, assume you have a character with three painted textures: diffuse, normal, specular. Then Granite allows you to bundle these three textures together in a single stacked character texture with three layers. Bundling together textures this way offers benefits in streaming performance since Granite knows how the three layers are related to each other. Granite then ensures that the data of those three layers can efficiently be accessed as a single unit.</p>
<p>The following image shows how hundreds of individual .tiff files belonging to a set of UDIM assets are bundled in Granite as one single logical stacked texture.</p>
<div class="image">
<img src="image006.png" alt="image006.png"/>
<div class="caption">
UDIM patch files are bundled in a single Granite stacked texture.</div></div>
 <h1><a class="anchor" id="udim_importing_data"></a>
Importing UDIM Data </h1>
<p>Once your data is organized in the correct way, importing your UDIM data to a Granite tile set is relatively easy using the <a class="el" href="tilesetstudio.html">Tile Set Studio</a> tool. To import an UDIM based image just add it as you would add a regular image and select one of the udim tiles. More info can be found in the <a class="el" href="tilesetstudio.html#tilesetstudio_addsingle">Tile Set Studio documentation</a>. Note that initial import and generation of the tile set can take a long time. However, if you change only a small number of UDIM tiles, and keep the project between builds, re-importing should go a lot faster next time.</p>
<p>The latest Granite release relaxes a lot of previous requirements to the UDIM layout across layers.</p>
<ul>
<li>
<p class="startli"><b>Granite supports different UDIM layouts across layers.</b> Note that when importing UDIM tiles with different layouts across layers, Granite will clamp and expand UDIM tiles to generate one single consistent layout for all layers. In the following image, for example, the first layer is extended with an extra column in order to match the layout of the other layers.</p>
<div class="image">
<img src="image013.png" alt="image013.png"/>
<div class="caption">
The first layer is extended to create a consistent layout across layers.</div></div>
  </li>
<li>
<p class="startli"><b>Granite supports UDIM layouts with different sizes across layers.</b> When importing UDIM tiles with different sizes across layers, Granite automatically resizes the tiles to match. For example, importing a diffuse layer with 2048x2048 UDIM tiles and a normal layer with 1024x1024 UDIM tiles will result in the Granite tools rescaling the 1024x1024 tiles to match the 2048 ones.</p>
<div class="image">
<img src="image014.png" alt="image014.png"/>
<div class="caption">
This UDIM set will import perfectly. Behind the scenes, the second layer UDIMs will be resized to match the first layer.</div></div>
<p> <br />
  </p>
</li>
</ul>
<h1><a class="anchor" id="udim_importing_data_ue4"></a>
Importing and Using the UDIM Data in UE4 </h1>
<p>Granite for Unreal has built-in support for UDIM datasets. In Unreal 4 the imported UDIM dataset is represented as a single <a class="el" href="granite_texture.html">GraniteTexture Object</a> object that represents all the UDIM tiles spread over the various layers. To create a GraniteTexture for the textures in the tile set simply <a class="el" href="gts_factory.html">import</a> the tileset you generated in your unreal project. This will create an Unreal texture object for every UDIM stacked texture imported using the tools. You can then use the imported texture as you would use any Granite texture (for more info, see <a class="el" href="granite_nodes.html">Granite Texture node</a>).</p>
<dl class="section note"><dt>Note</dt><dd>UDIM uses texture coordinates outside of the [0...1] range. When Unreal imports meshes it automatically switches to a lower quality version of the texture coordinates optimized for [0..1] use. This may give incorrect results when rendering with UDIM. You can use the original full quality uv's by enabling 'Use Full Precision UVs' in the mesh build settings in the mesh editor's details panel (see the screenshot below).</dd></dl>
<div class="image">
<img src="mesh_import.png" alt="mesh_import.png"/>
<div class="caption">
To avoid rendering artifacts, it is important to enable 'Use Full Precision UVs' when importing meshes for use with UDIM textures.</div></div>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
		Confidential - Copyright 2012-2018 Graphine NV - Part of this Software is covered by pending patents. - <a href="software_licenses.html">Third Party Software Licenses</a></li>
  </ul>
</div>
</body>
</html>
